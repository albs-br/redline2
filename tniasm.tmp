main.s124FNAME "redline2.rom" 26include/msxbios.s189BIOS_HWVER: equ 0x002d1112BIOS_CHKRAM: equ 0x000013BIOS_SYNCHR: equ 0x000814BIOS_RDSLT: equ 0x000c15BIOS_CHRGTR: equ 0x001016BIOS_WRSLT: equ 0x001417BIOS_OUTDO: equ 0x001818BIOS_CALSLT: equ 0x001c19BIOS_DCOMPR: equ 0x002020BIOS_ENASLT: equ 0x002421BIOS_GETYPR: equ 0x002822BIOS_CALLF: equ 0x003023BIOS_KEYINT: equ 0x00382526BIOS_INITIO: equ 0x003b27BIOS_INIFNK: equ 0x003e2930BIOS_DISSCR: equ 0x004131BIOS_ENASCR: equ 0x004432BIOS_WRTVDP: equ 0x004733BIOS_RDVRM: equ 0x004a34BIOS_WRTVRM: equ 0x004d35BIOS_SETRD: equ 0x005036BIOS_SETWRT: equ 0x005337BIOS_FILVRM: equ 0x005638BIOS_LDIRMV: equ 0x005939BIOS_LDIRVM: equ 0x005c40BIOS_CHGMOD: equ 0x005f41BIOS_CHGCLR: equ 0x006242BIOS_NMI: equ 0x006643BIOS_CLRSPR: equ 0x006944BIOS_INITXT: equ 0x006c45BIOS_INIT32: equ 0x006f46BIOS_INIGRP: equ 0x007247BIOS_INIMLT: equ 0x007548BIOS_SETTXT: equ 0x007849BIOS_SETT32: equ 0x007b50BIOS_SETGRP: equ 0x007e51BIOS_SETMLT: equ 0x008152BIOS_CALPAT: equ 0x008453BIOS_CALATR: equ 0x008754BIOS_GSPSIZ: equ 0x008a55BIOS_GRPPRT: equ 0x008d5758BIOS_GICINI: equ 0x009059BIOS_WRTPSG: equ 0x009360BIOS_RDPSG: equ 0x009661BIOS_STRTMS: equ 0x00996364BIOS_CHSNS: equ 0x009c65BIOS_CHGET: equ 0x009f66BIOS_CHPUT: equ 0x00a267BIOS_LPTOUT: equ 0x00a568BIOS_LPTSTT: equ 0x00a869BIOS_CNVCHR: equ 0x00ab70BIOS_PINLIN: equ 0x00ae71BIOS_INLIN: equ 0x00b172BIOS_QINLIN: equ 0x00b473BIOS_BREAKX: equ 0x00b774BIOS_BEEP: equ 0x00c075BIOS_CLS: equ 0x00c376BIOS_POSIT: equ 0x00c677BIOS_FNKSB: equ 0x00c978BIOS_ERAFNK: equ 0x00cc79BIOS_DSPFNK: equ 0x00cf80BIOS_TOTEXT: equ 0x00d28283BIOS_GTSTCK: equ 0x00d584BIOS_GTTRIG: equ 0x00d885BIOS_GTPAD: equ 0x00db86BIOS_GTPDL: equ 0x00de8889BIOS_TAPION: equ 0x00e190BIOS_TAPIN: equ 0x00e491BIOS_TAPIOF: equ 0x00e792BIOS_TAPOON: equ 0x00ea93BIOS_TAPOUT: equ 0x00ed94BIOS_TAPOOF: equ 0x00f095BIOS_STMOTR: equ 0x00f39798BIOS_CHGCAP: equ 0x013299BIOS_CHGSND: equ 0x0135100BIOS_RSLREG: equ 0x0138101BIOS_WSLREG: equ 0x013b102BIOS_RDVDP: equ 0x013e103BIOS_SNSMAT: equ 0x0141104BIOS_PHYDIO: equ 0x0144105BIOS_ISFLIO: equ 0x014a106BIOS_OUTDLP: equ 0x014d107BIOS_KILBUF: equ 0x0156108BIOS_CALBAS: equ 0x0159110111BIOS_SUBROM: equ 0x015c112BIOS_EXTROM: equ 0x015f113BIOS_EOL: equ 0x0168114BIOS_NSETRD: equ 0x016e115BIOS_NSTWRT: equ 0x0171116BIOS_NRDVRM: equ 0x0174117BIOS_NWRVRM: equ 0x0177119120BIOS_GRPRT: equ 0x0089121BIOS_NVBXLN: equ 0x00c9122BIOS_NVBXFL: equ 0x00cd123BIOS_CLSSUB: equ 0x0115124BIOS_VDPSTA: equ 0x0131125BIOS_SETPAG: equ 0x013d126BIOS_INIPLT: equ 0x0141127BIOS_RSTPLT: equ 0x0145128BIOS_GETPLT: equ 0x0149129BIOS_SETPLT: equ 0x014d130BIOS_PROMPT: equ 0x0181131BIOS_NEWPAD: equ 0x01ad132BIOS_CHGMDP: equ 0x01b5133BIOS_KNJPRT: equ 0x01bd134BIOS_REDCLK: equ 0x01f5135BIOS_WRTCLK: equ 0x01f9137138BIOS_RDPRIM: equ 0xf380139BIOS_WRPRIM: equ 0xf385140BIOS_CLPRIM: equ 0xf38c142143BIOS_USRTAB: equ 0xf39a144BIOS_LINL40: equ 0xf3ae145BIOS_LINL32: equ 0xf3af146BIOS_LINLEN: equ 0xf3b0147BIOS_CRTCNT: equ 0xf3b1148BIOS_CLMLST: equ 0xf3b2150151BIOS_TXTNAM: equ 0xf3b3152BIOS_TXTCOL: equ 0xf3b5153BIOS_TXTCGP: equ 0xf3b7154BIOS_TXTATR: equ 0xf3b9155BIOS_TXTPAT: equ 0xf3bb157158BIOS_T32NAM: equ 0xf3bd159BIOS_T32COL: equ 0xf3bf160BIOS_T32CGP: equ 0xf3c1161BIOS_T32ATR: equ 0xf3c3162BIOS_T32PAT: equ 0xf3c5164165BIOS_GRPNAM: equ 0xf3c7166BIOS_GRPCOL: equ 0xf3c9167BIOS_GRPCGP: equ 0xf3cb168BIOS_GRPATR: equ 0xf3cd169BIOS_GRPPAT: equ 0xf3cf171172BIOS_MLTNAM: equ 0xf3d1173BIOS_MLTCOL: equ 0xf3d3174BIOS_MLTCGP: equ 0xf3d5175BIOS_MLTATR: equ 0xf3d7176BIOS_MLTPAT: equ 0xf3d9178179BIOS_CLIKSW: equ 0xf3db180BIOS_CSRY: equ 0xf3dc181BIOS_CSRX: equ 0xf3dd182BIOS_CNSDFG: equ 0xf3de184185BIOS_RG0SAV: equ 0xf3df186BIOS_RG1SAV: equ 0xf3e0187BIOS_RG2SAV: equ 0xf3e1188BIOS_RG3SAV: equ 0xf3e2189BIOS_RG4SAV: equ 0xf3e3190BIOS_RG5SAV: equ 0xf3e4191BIOS_RG6SAV: equ 0xf3e5192BIOS_RG7SAV: equ 0xf3e6193BIOS_RG8SAV: equ 0xffe7194BIOS_RG9SAV: equ 0xffe8195BIOS_STATFL: equ 0xf3e7196BIOS_TRGFLG: equ 0xf3e8197BIOS_FORCLR: equ 0xf3e9198BIOS_BAKCLR: equ 0xf3ea199BIOS_BDRCLR: equ 0xf3eb200BIOS_MAXUPD: equ 0xf3ec201BIOS_MINUPD: equ 0xf3ef202BIOS_ATRBYT: equ 0xf3f2204205BIOS_QUEUES: equ 0xf3f3206BIOS_FRCNEW: equ 0xf3f5208209BIOS_SCNCNT: equ 0xf3f6210BIOS_REPCNT: equ 0xf3f7211BIOS_PUTPNT: equ 0xf3f8212BIOS_GETPNT: equ 0xf3fa214215BIOS_CS120: equ 0xf3fc216BIOS_LOW: equ 0xf406217BIOS_HIGH: equ 0xf408218BIOS_HEADER: equ 0xf40a219BIOS_ASPCT1: equ 0xf40b220BIOS_ASPCT2: equ 0xf40d221BIOS_ENDPRG: equ 0xf40f223224BIOS_ERRFLG: equ 0xf414225BIOS_LPTPOS: equ 0xf415226BIOS_PRTFLG: equ 0xf416227BIOS_NTMSXP: equ 0xf417228BIOS_RAWPRT: equ 0xf418229BIOS_VLZADR: equ 0xf419230BIOS_VLZDAT: equ 0xf41b231BIOS_CURLIN: equ 0xf41c232BIOS_KBUF: equ 0xf41f233BIOS_BUFMIN: equ 0xf55d234BIOS_BUF: equ 0xf55e235BIOS_ENDBUF: equ 0xf660236BIOS_TTYPOS: equ 0xf661237BIOS_DIMFLG: equ 0xf662238BIOS_VALTYP: equ 0xf663239BIOS_DORES: equ 0xf664240BIOS_DONUM: equ 0xf665241BIOS_CONTXT: equ 0xf666242BIOS_CONSAV: equ 0xf668243BIOS_CONTYP: equ 0xf669244BIOS_CONLO: equ 0xf66a245BIOS_MEMSIZ: equ 0xf672246BIOS_STKTOP: equ 0xf674247BIOS_TXTTAB: equ 0xf676248BIOS_TEMPPT: equ 0xf768249BIOS_TEMPST: equ 0xf67a250BIOS_DSCTMP: equ 0xf698251BIOS_FRETOP: equ 0xf69b252BIOS_TEMP3: equ 0xf69d253BIOS_TEMP8: equ 0xf69f254BIOS_ENDFOR: equ 0xf6a1255BIOS_SUBFLG: equ 0xf6a5256BIOS_FLGINP: equ 0xf6a6257BIOS_TEMP: equ 0xf6a7258BIOS_PTRFLG: equ 0xf6a9259BIOS_AUTFLG: equ 0xf6aa260BIOS_AUTLIN: equ 0xf6ab261BIOS_AUTINC: equ 0xf6ad262BIOS_SAVTXT: equ 0xf6af263BIOS_ERRLIN: equ 0xf6b3264BIOS_DOT: equ 0xf6b5265BIOS_ERRTXT: equ 0xf6b7266BIOS_ONELIN: equ 0xf6b9267BIOS_ONEFLG: equ 0xf6bb268BIOS_TEMP2: equ 0xf6bc269BIOS_OLDLIN: equ 0xf6be270BIOS_OLDTXT: equ 0xf6c0271BIOS_VARTAB: equ 0xf6c2272BIOS_ARYTAB: equ 0xf6c4273BIOS_STREND: equ 0xf6c6274BIOS_DATPTR: equ 0xf6c8275BIOS_DEFTBL: equ 0xf6ca276BIOS_PRMSTK: equ 0xf6e4277BIOS_PRMLEN: equ 0xf6e6278BIOS_PARM1: equ 0xf6e8279BIOS_PRMPRV: equ 0xf74c280BIOS_PRMLN2: equ 0xf74e281BIOS_PARM2: equ 0xf750282BIOS_PRMFLG: equ 0xf7b4283BIOS_ARYTA2: equ 0xf7b5284BIOS_NOFUNS: equ 0xf7b7285BIOS_TEMP9: equ 0xf7b8286BIOS_FUNACT: equ 0xf7ba287BIOS_SWPTMP: equ 0xf7bc288BIOS_TRCFLG: equ 0xf7c4290291BIOS_FBUFFR: equ 0xf7c5292BIOS_DECTMP: equ 0xf7f0293BIOS_DECTM2: equ 0xf7f2294BIOS_DECCNT: equ 0xf7f4295BIOS_DAC: equ 0xf7f6296BIOS_HOLD8: equ 0xf806297BIOS_HOLD2: equ 0xf836298BIOS_HOLD: equ 0xf83e299BIOS_ARG: equ 0xf847300BIOS_RNDX: equ 0xf857302303BIOS_USRDATA: equ 0xf7f8305306BIOS_MAXFIL: equ 0xf85f307BIOS_FILTAB: equ 0xf860308BIOS_NULBUF: equ 0xf862309BIOS_PTRFIL: equ 0xf864310BIOS_RUNFLG: equ 0xf866311BIOS_FILNAM: equ 0xf866312BIOS_FILNM2: equ 0xf871313BIOS_NLONLY: equ 0xf87c314BIOS_SAVEND: equ 0xf87d315BIOS_FNKSTR: equ 0xf87f316BIOS_CGPNT: equ 0xf91f317BIOS_NAMBAS: equ 0xf922318BIOS_CGPBAS: equ 0xf924319BIOS_PATBAS: equ 0xf926320BIOS_ATRBAS: equ 0xf928321BIOS_CLOC: equ 0xf92a322BIOS_CMASK: equ 0xf92c323BIOS_MINDEL: equ 0xf92d324BIOS_MAXDEL: equ 0xf92f326327BIOS_ASPECT: equ 0xf931328BIOS_CENCNT: equ 0xf933329BIOS_CLINEF: equ 0xf935330BIOS_CNPNTS: equ 0xf936331BIOS_CPLOTF: equ 0xf938332BIOS_CPCNT: equ 0xf939333BIOS_CPNCNT8: equ 0xf93b334BIOS_CPCSUM: equ 0xf93d335BIOS_CSTCNT: equ 0xf93f336BIOS_CSCLXY: equ 0xf941337BIOS_CSAVEA: equ 0xf942338BIOS_CSAVEM: equ 0xf944339BIOS_CXOFF: equ 0xf945340BIOS_CYOFF: equ 0xf947342343BIOS_LOHMSK: equ 0xf949344BIOS_LOHDIR: equ 0xf94a345BIOS_LOHADR: equ 0xf94b346BIOS_LOHCNT: equ 0xf94d347BIOS_SKPCNT: equ 0xf94f348BIOS_MIVCNT: equ 0xf951349BIOS_PDIREC: equ 0xf953350BIOS_LFPROG: equ 0xf954351BIOS_RTPROG: equ 0xf955353354BIOS_MCLTAB: equ 0xf956355BIOS_MCLFLG: equ 0xf958356BIOS_QUETAB: equ 0xf959357BIOS_QUEBAK: equ 0xf971358BIOS_VOICAQ: equ 0xf975359BIOS_VOICBQ: equ 0xf9f5360BIOS_VOICCQ: equ 0xfa75362363BIOS_DPPAGE: equ 0xfaf5364BIOS_ACPAGE: equ 0xfaf6365BIOS_AVCSAV: equ 0xfaf7366BIOS_EXBRSA: equ 0xfaf8367BIOS_CHRCNT: equ 0xfaf9368BIOS_ROMA: equ 0xfafa369BIOS_MODE: equ 0xfafc370BIOS_NORUSE: equ 0xfafd371BIOS_XSAVE: equ 0xfafe372BIOS_YSAVE: equ 0xfb00373BIOS_LOGOPR: equ 0xfb02375376BIOS_RSTMP: equ 0xfb03377BIOS_TOCNT: equ 0xfb03378BIOS_RSFCB: equ 0xfb04379BIOS_RSIQLN: equ 0xfb06380BIOS_MEXBIH: equ 0xfb07381BIOS_OLDSTT: equ 0xfb0c382BIOS_OLDINT: equ 0xfb12383BIOS_DEVNUM: equ 0xfb17384BIOS_DATCNT: equ 0xfb18385BIOS_ERRORS: equ 0xfb1b386BIOS_FLAGS: equ 0xfb1c387BIOS_ESTBLS: equ 0xfb1d388BIOS_COMMSK: equ 0xfb1e389BIOS_LSTCOM: equ 0xfb1f390BIOS_LSTMOD: equ 0xfb20392393BIOS_PRSCNT: equ 0xfb35394BIOS_SAVSP: equ 0xfb36395BIOS_VOICEN: equ 0xfb38396BIOS_SAVVOL: equ 0xfb39397BIOS_MCLLEN: equ 0xfb3b398BIOS_MCLPTR: equ 0xfb3c399BIOS_QUEUEN: equ 0xfb3e400BIOS_MUSICF: equ 0xfc3f401BIOS_PLYCNT: equ 0xfb40403404BIOS_VCBA: equ 0xfb41405BIOS_VCBB: equ 0xfb66406BIOS_VCBC: equ 0xfb8b408409BIOS_ENSTOP: equ 0xfbb0410BIOS_BASROM: equ 0xfbb1411BIOS_LINTTB: equ 0xfbb2412BIOS_FSTPOS: equ 0xfbca413BIOS_CODSAV: equ 0xfbcc414BIOS_FNKSW1: equ 0xfbcd415BIOS_FNKFLG: equ 0xfbce416BIOS_ONGSBF: equ 0xfbd8417BIOS_CLIKFL: equ 0xfbd9418BIOS_OLDKEY: equ 0xfbda419BIOS_NEWKEY: equ 0xfbe5420BIOS_KEYBUF: equ 0xfbf0421BIOS_LINWRK: equ 0xfc18422BIOS_PATWRK: equ 0xfc40423BIOS_BOTTOM: equ 0xfc48424BIOS_HIMEM: equ 0xfc4a425BIOS_TRAPTBL: equ 0xfc4c426BIOS_RTYCNT: equ 0xfc9a427BIOS_INTFLG: equ 0xfc9b428BIOS_PADY: equ 0xfc9c429BIOS_PADX: equ 0xfc9d430BIOS_JIFFY: equ 0xfc9e431BIOS_INTVAL: equ 0xfca0432BIOS_INTCNT: equ 0xfca2433BIOS_LOWLIM: equ 0xfca4434BIOS_WINWID: equ 0xfca5435BIOS_GRPHED: equ 0xfca6436BIOS_ESCCNT: equ 0xfca7437BIOS_INSFLG: equ 0xfca8438BIOS_CSRSW: equ 0xfca9439BIOS_CSTYLE: equ 0xfcaa440BIOS_CAPST: equ 0xfcab441BIOS_KANAST: equ 0xfcac442BIOS_KANAMD: equ 0xfcad443BIOS_FLBMEM: equ 0xfcae444BIOS_SCRMOD: equ 0xfcaf445BIOS_OLDSCR: equ 0xfcb0446BIOS_CASPRV: equ 0xfcb1447BIOS_BRDATR: equ 0xfcb2448BIOS_GXPOS: equ 0xfcb3449BIOS_GYPOS: equ 0xfcb5450BIOS_GRPACX: equ 0xfcb7451BIOS_GRPACY: equ 0xfcb9452BIOS_DRWFLG: equ 0xfcbb453BIOS_DRWSCL: equ 0xfcbc454BIOS_DRWANG: equ 0xfcbd455BIOS_RUNBNF: equ 0xfcbe456BIOS_SAVENT: equ 0xfcbf457BIOS_ROMSLT: equ 0xfcc0458BIOS_EXPTBL: equ 0xfcc1459BIOS_SLTTBL: equ 0xfcc5460BIOS_SLTATR: equ 0xfcc9461BIOS_SLTWRK: equ 0xfd09462BIOS_PROCNM: equ 0xfd89463BIOS_DEVICE: equ 0xfd99465466BIOS_H_KEYI: equ 0xfd9a467BIOS_H_TIMI: equ 0xfd9f468BIOS_H_CHPH: equ 0xfda4469BIOS_H_DSPC: equ 0xfda9470BIOS_H_ERAC: equ 0xfdae471BIOS_H_DSPF: equ 0xfdb3472BIOS_H_ERAF: equ 0xfdb8473BIOS_H_TOTE: equ 0xfdbd474BIOS_H_CHGE: equ 0xfdc2475BIOS_H_INIP: equ 0xfdc7476BIOS_H_KEYC: equ 0xfdcc477BIOS_H_KYEA: equ 0xfdd1478BIOS_H_NMI: equ 0xfdd6479BIOS_H_PINL: equ 0xfddb480BIOS_H_QINL: equ 0xfde0481BIOS_H_INLI: equ 0xfde5482BIOS_H_ONGO: equ 0xfdea483BIOS_H_DSKO: equ 0xfdef484BIOS_H_SETS: equ 0xfdf4485BIOS_H_NAME: equ 0xfdf9486BIOS_H_KILL: equ 0xfdfe487BIOS_H_IPL: equ 0xfe03488BIOS_H_COPY: equ 0xfe08489BIOS_H_CMD: equ 0xfe0d490BIOS_H_DSKF: equ 0xfe12491BIOS_H_DSKI: equ 0xfe17492BIOS_H_ATTR: equ 0xfe1c493BIOS_H_LSET: equ 0xfe21494BIOS_H_RSET: equ 0xfe26495BIOS_H_FIEL: equ 0xfe2b496BIOS_H_MKI: equ 0xfe30497BIOS_H_MKS: equ 0xfe35498BIOS_H_MKD: equ 0xfe3a499BIOS_H_CVI: equ 0xfe3f500BIOS_H_CVS: equ 0xfe44501BIOS_H_CVD: equ 0xfe49502BIOS_H_GETP: equ 0xfe4e503BIOS_H_SETF: equ 0xfe53504BIOS_H_NOFO: equ 0xfe58505BIOS_H_NULO: equ 0xfe5d506BIOS_H_NTFL: equ 0xfe62507BIOS_H_MERG: equ 0xfe67508BIOS_H_SAVE: equ 0xfe6c509BIOS_H_BINS: equ 0xfe71510BIOS_H_BINL: equ 0xfe76511BIOS_H_FILE: equ 0xfd7b512BIOS_H_DGET: equ 0xfe80513BIOS_H_FILO: equ 0xfe85514BIOS_H_INDS: equ 0xfe8a515BIOS_H_RSLF: equ 0xfe8f516BIOS_H_SAVD: equ 0xfe94517BIOS_H_LOC: equ 0xfe99518BIOS_H_LOF: equ 0xfe9e519BIOS_H_EOF: equ 0xfea3520BIOS_H_FPOS: equ 0xfea8521BIOS_H_BAKU: equ 0xfead522BIOS_H_PARD: equ 0xfeb2523BIOS_H_NODE: equ 0xfeb7524BIOS_H_POSD: equ 0xfebc525BIOS_H_DEVN: equ 0xfec1526BIOS_H_GEND: equ 0xfec6527BIOS_H_RUNC: equ 0xfecb528BIOS_H_CLEAR: equ 0xfed0529BIOS_H_LOPD: equ 0xfed5530BIOS_H_STKE: equ 0xfeda531BIOS_H_ISFL: equ 0xfedf532BIOS_H_OUTD: equ 0xfee4533BIOS_H_CRDO: equ 0xfee9534BIOS_H_DSKC: equ 0xfeee535BIOS_H_DOGR: equ 0xfef3536BIOS_H_PRGE: equ 0xfef8537BIOS_H_ERRP: equ 0xfefd538BIOS_H_ERRF: equ 0xff02539BIOS_H_READ: equ 0xff07540BIOS_H_MAIN: equ 0xff0c541BIOS_H_DIRD: equ 0xff11542BIOS_H_FINI: equ 0xff16543BIOS_H_FINE: equ 0xff1b544BIOS_H_CRUN: equ 0xff20545BIOS_H_CRUS: equ 0xff25546BIOS_H_ISRE: equ 0xff2a547BIOS_H_NTFN: equ 0xff2f548BIOS_H_NOTR: equ 0xff34549BIOS_H_SNGF: equ 0xff39550BIOS_H_NEWS: equ 0xff3e551BIOS_H_GONE: equ 0xff43552BIOS_H_CHRG: equ 0xff48553BIOS_H_RETU: equ 0xff4d554BIOS_H_PRTF: equ 0xff52555BIOS_H_COMP: equ 0xff57556BIOS_H_FINP: equ 0xff5c557BIOS_H_TRMN: equ 0xff61558BIOS_H_FRME: equ 0xff66559BIOS_H_NTPL: equ 0xff6b560BIOS_H_EVAL: equ 0xff70561BIOS_H_OKNO: equ 0xff75562BIOS_H_FING: equ 0xff7a563BIOS_H_ISMI: equ 0xff7f564BIOS_H_WIDT: equ 0xff84565BIOS_H_LIST: equ 0xff89566BIOS_H_BUFL: equ 0xff8e567BIOS_H_FRQI: equ 0xff93568BIOS_H_SCNE: equ 0xff98569BIOS_H_FRET: equ 0xff9d570BIOS_H_PTRG: equ 0xffa2571BIOS_H_PHYD: equ 0xffa7572BIOS_H_FORM: equ 0xffac573BIOS_H_ERRO: equ 0xffb1574BIOS_H_LPTO: equ 0xffb6575BIOS_H_LPTS: equ 0xffbb576BIOS_H_SCRE: equ 0xffc0577BIOS_H_PLAY: equ 0xffc5579580BIOS_FCALL: equ 0xffca581BIOS_DISINT: equ 0xffcf582BIOS_ENAINT: equ 0xffd4586589ADDR_CLIKSW: equ 0xf3db 590main.s27include/vram.s12NamesTable: equ 6144 3PatternsTable: equ 0 4ColorsTable: equ 8192 9NamesTableAlt: equ 7168 1427SpriteAttrTable: equ 6912 28SpritePatternTable: equ 14336 29main.s3031RomSize: equ 0x8000 343637 org 0x4000 38 39include/romheader.s12 db "AB" 3 dw Execute 4 dw 0 6 dw 0 8 dw 0 9 dw 0,0,0 10 11main.s4142Execute:4445 di 46 im 1 47 ld sp, (BIOS_HIMEM) 49 call ClearRam51 call InitVram54 call EnableRomPage256 call InitVariables58MainLoop:60 62 call SetNameTable_163 ld a, (Speed)64 ld d, a65 call Delay67 68 call SetNameTable_269 ld a, (Speed)70 ld d, a71 call Delay73 call GameLogic75 call UpdateScreen77 jp MainLoop7980 83Finished:84 jr Finished 85 87 88InitVram.s14InitVram:7 910 ld a, 15 11 ld (BIOS_FORCLR), a 12 ld a, 4 13 ld (BIOS_BAKCLR), a 14 ld a, 5 15 ld (BIOS_BDRCLR), a 16 ld a, 2 17 call BIOS_CHGCLR 19 ld a, 020 ld (ADDR_CLIKSW), a 22 call BIOS_INIGRP 2728 ld a, 2 29 call BIOS_CHGMOD 313336 ld c, 5 37 ld b, 54 38 call BIOS_WRTVDP 4043 ld c, 6 44 ld b, 7 45 call BIOS_WRTVDP 4758 ld c, 1 59 ld b, 0xe260 call BIOS_WRTVDP 626972 call ClearVRAM7778 ld bc, 0 + (Frame1_PatternTable_1-Frame1_PatternTable_0) 79 ld de, PatternsTable 80 ld hl, Frame1_PatternTable_0 81 call BIOS_LDIRVM 83 ld bc, 0 + (Frame1_PatternTable_2-Frame1_PatternTable_1) 84 ld de, PatternsTable + (256*8) 85 ld hl, Frame1_PatternTable_1 86 call BIOS_LDIRVM 88 89 ld bc, 0 + (Frame1_PatternTable_2-Frame1_PatternTable_1) 90 ld de, PatternsTable + (256*8) + (Frame1_PatternTable_2-Frame1_PatternTable_1)91 ld hl, Frame1_PatternTable_1 92 call BIOS_LDIRVM 94 ld bc, 0 + (Frame1_PatternTable_End-Frame1_PatternTable_2) 95 ld de, PatternsTable + (512*8) 96 ld hl, Frame1_PatternTable_2 97 call BIOS_LDIRVM 101102 ld bc, 0 + (Frame1_ColorTable_1-Frame1_ColorTable_0) 103 ld de, ColorsTable 104 ld hl, Frame1_ColorTable_0 105 call BIOS_LDIRVM 107 ld bc, 0 + (Frame1_ColorTable_2-Frame1_ColorTable_1) 108 ld de, ColorsTable + (256*8) 109 ld hl, Frame1_ColorTable_1 110 call BIOS_LDIRVM 112 ld bc, 0 + (Frame1_ColorTable_End-Frame1_ColorTable_2) 113 ld de, ColorsTable + (512*8) 114 ld hl, Frame1_ColorTable_2 115 call BIOS_LDIRVM 118119 ld bc, 0 + (Frame1_NameTable_1-Frame1_NameTable_0) 120 ld de, NamesTable 121 ld hl, Frame1_NameTable_0 122 call BIOS_LDIRVM 124 ld bc, 0 + (Frame1_NameTable_2-Frame1_NameTable_1) 125 ld de, NamesTable + 256 126 ld hl, Frame1_NameTable_1 127 call BIOS_LDIRVM 129 ld bc, 0 + (Frame1_NameTable_End-Frame1_NameTable_2) 130 ld de, NamesTable + 512 131 ld hl, Frame1_NameTable_2 132 call BIOS_LDIRVM 137138 ld bc, 0 + (Frame1_NameTable_1-Frame1_NameTable_0) 139 ld de, NamesTableAlt 140 ld hl, Frame1_NameTable_0 141 call BIOS_LDIRVM 143 ld bc, 0 + (FrameAlt_NameTable_2-FrameAlt_NameTable_1) 144 ld de, NamesTableAlt + 256 145 ld hl, FrameAlt_NameTable_1 146 call BIOS_LDIRVM 148 ld bc, 0 + (Frame1_NameTable_End-Frame1_NameTable_2) 149 ld de, NamesTableAlt + 512 150 ld hl, Frame1_NameTable_2 151 call BIOS_LDIRVM 155156NumberOfSprites: equ 10 158 ld bc, 32 * NumberOfSprites 159 ld de, SpritePatternTable 160 ld hl, SpritePatterns 161 call BIOS_LDIRVM 164 ret169SetNameTable_1:170172 ld c, 2 173 ld b, 6 174 call BIOS_WRTVDP 175 ret177SetNameTable_2:178180 ld c, 2 181 ld b, 7 182 call BIOS_WRTVDP 183 retmain.s89Include/CommonRoutines.s13911Delay:12 14 ld e, 0xff 15.loop: 16 dec e17 jp nz, .loop 18 dec d19 jp nz, .loop 22 23 ret2734RotateTile3Thirds:35 ld bc, PatternsTable 36 call RotateTile38 ld bc, PatternsTable + (256 * 8) 39 call RotateTile41 ld bc, PatternsTable + (256 * 8) + (256 * 8) 42 call RotateTile44 ret4856RotateTile:576566 push bc 67 68 ld hl, 7 69 add hl, bc70 71 call BIOS_RDVRM 72 ld e, a 7475 ld b, 7 77.loop:7879 dec hl 80 call BIOS_RDVRM 8283 inc hl84 call BIOS_WRTVRM 86 dec hl88 djnz .loop9091 pop hl 94 ld a, e 95 call BIOS_WRTVRM 97 ret101102Vpoke:103 push af105 ld a, l106 out (0x99), a107 108 ld a, h109 out (0x99), a110 111 pop af112 out (0x98), a114 116 ret120131PutSprite16x16:132 133 ld hl, SpriteAttrTable134 137 sla b 138 sla b 139 ld l, b 141 142 sla a 143 sla a145 ld b, a 147 149 150 ld a, e 151 dec a 152 call BIOS_WRTVRM 155 156 inc l 157 ld a, d 158 call BIOS_WRTVRM 161 162 inc l 163 ld a, b 164 call BIOS_WRTVRM 167 168 inc l 169 ld a, c 170 call BIOS_WRTVRM 173 ret179188SetSpritePatternAndColor:189 191 inc hl192 inc hl193 194 195 call BIOS_WRTVRM 198 199 inc hl 200 ld a, c 201 call BIOS_WRTVRM 204 ret210222CheckCollision:224229234 ld a, h 236237 cp d238 jp z, .checkY 239 jp nc, .collisionfalse 241242 cp b243 jp c, .collisionfalse 245.checkY:246 ld a, l 248249 cp e250 jp z, .collisionTrue 251 jp nc, .collisionfalse 253254 cp c255 jp c, .collisionfalse 259.collisionTrue:260 or 1 261 ret263.collisionfalse:264 xor a 265 ret269270Struct_CollisionBox:271.X: equ 0272.Y: equ 1273.width: equ 2274.height: equ 3278282CollisionCheck_Boxes:283 284 ld b, (ix + Struct_CollisionBox.X)285 ld c, (ix + Struct_CollisionBox.width)286 ld d, (iy + Struct_CollisionBox.X)287 ld e, (iy + Struct_CollisionBox.width)288 call CollisionCheck_1d289 ret nc291 292 ld b, (ix + Struct_CollisionBox.Y)293 ld c, (ix + Struct_CollisionBox.height)294 ld d, (iy + Struct_CollisionBox.Y)295 ld e, (iy + Struct_CollisionBox.height)296 call CollisionCheck_1d297 ret300313CollisionCheck_1d:314 ld a,d 315 sub b 316 jr c,.other 317 sub c 318 ret 319.other:320 neg 321 sub e 322 ret 326338FillColorTable:339 343 ld bc, 8 344 push hl345 push af346 push de347 call BIOS_LDIRVM 348 pop de349 pop af350 351 ld bc, 8 352 ld h, d 353 ld l, e 354 add hl, bc355 ld d, h356 ld e, l357 358 pop hl359 360 dec a361 jr nz, FillColorTable362 363 ret366377PrintString:378 ld a, (hl)379 cp 0380 ret z 383 push hl384 push de386 cp 65387 jp nc, .alpha 389 cp 48390 jp nc, .print 392 cp 46393 jp z, .dot395 cp 32396 jp z, .space398 jp .alpha400.dot:401 ld a, 84402 jp .print404.space:405 ld a, 1406 jp .print408.alpha:409 sub 7 411.print:412 ld h, d413 ld l, e414 call BIOS_WRTVRM 415 416 pop de417 pop hl420 inc hl421 inc de422 423 jp PrintString427WaitSomeSeconds:428 429 ld hl, 3000430 ld b, 255431.wait:432 djnz .wait434 dec hl435 ld a, h436 or l 438 ld b, 255439 jp nz, .wait441 ret444445ClearVRAM:446 ld hl, 0x0000 447 ld bc, 16768 448 ld a, 0x00 449 call BIOS_FILVRM 450 451 ret454455ClearRam:456 ld hl, RamStart 457 ld de, RamEnd + 1 459.loop:460 xor a 461 ld (hl), a463 inc hl464 call BIOS_DCOMPR 465 ret z466 jp .loop471472EnableRomPage2:473475 call BIOS_RSLREG476 rrca477 rrca478 and 3 479 ld c,a480 ld b,0481 ld hl, BIOS_EXPTBL482 add hl,bc483 ld a,(hl)484 and 80h485 or c486 ld c,a487 inc hl488 inc hl489 inc hl490 inc hl491 ld a,(hl)492 and 0Ch493 or c494 ld h,080h495 call BIOS_ENASLT 497 ret499508509564main.s90Constants.s1FIRST_LINE_ROAD: equ 642LAST_LINE_OUTSIDE_ROAD: equ FIRST_LINE_ROAD + 27 - 2 - 1 5OBJECT_Y_INIT: equ FIRST_LINE_ROAD - 2 - 16main.s91GameLogic.s1GameLogic:3 4 ld a, (LeftObject_0 + Struct_Obj.Y)5 inc a6 cp LAST_LINE_OUTSIDE_ROAD + 17 jp nz, .continue19 ld a, OBJECT_Y_INIT 11.continue1:12 ld (LeftObject_0 + Struct_Obj.Y), a 15 17 ld hl, ObjectPositionLookupTable_Left18 sub OBJECT_Y_INIT19 add l 20 ld l, a21 ld a, (hl) 22 ld (LeftObject_0 + Struct_Obj.X), a 25 27 ld a, (LeftObject_0 + Struct_Obj.Y)28 ld hl, ObjectSizeLookupTable29 sub OBJECT_Y_INIT30 add l 31 ld l, a32 ld a, (hl) 33 ld (LeftObject_0 + Struct_Obj.pattern_0), a 34 add 435 ld (LeftObject_0 + Struct_Obj.pattern_1), a 41 ld hl, Counter42 inc (hl)44 ld a, (Speed)45 cp 846 ret z47 49 51 52 sub 453.noDecSpeed:54 ld (Speed), a56 retmain.s92InitVariables.s1InitVariables:3 ld a, 04 ld (Counter), a6 ld a, OBJECT_Y_INIT7 ld (LeftObject_0 + Struct_Obj.Y), a8 11 ld a, 0x8012 ld (Speed), a14 retmain.s93UpdateScreen.s1UpdateScreen:3 ld hl, SpriteAttrTable4 ld a, (LeftObject_0 + Struct_Obj.Y)5 call BIOS_WRTVRM7 inc hl 8 ld a, (LeftObject_0 + Struct_Obj.X)9 call BIOS_WRTVRM11 inc hl 12 ld a, (LeftObject_0 + Struct_Obj.pattern_0)13 call BIOS_WRTVRM15 inc hl 16 ld a, 1 17 call BIOS_WRTVRM1921 inc hl 22 ld a, (LeftObject_0 + Struct_Obj.Y)23 call BIOS_WRTVRM25 inc hl 26 ld a, (LeftObject_0 + Struct_Obj.X)27 call BIOS_WRTVRM29 inc hl 30 ld a, (LeftObject_0 + Struct_Obj.pattern_1)31 call BIOS_WRTVRM33 inc hl 34 ld a, 15 35 call BIOS_WRTVRM39 retmain.s97 98Graphics/Sprites/Sprites.s1SpritePatterns:3Graphics/Sprites/RightCornerSign.s13 5 DB 00000000b6 DB 00000000b7 DB 00000000b8 DB 00000000b9 DB 00000000b10 DB 00000000b11 DB 00000000b12 DB 00000000b13 DB 00000000b14 DB 00000000b15 DB 00000000b16 DB 00000000b17 DB 00000000b18 DB 00000000b19 DB 00000000b20 DB 00000000b21 DB 00000000b22 DB 00000000b23 DB 00000000b24 DB 00000000b25 DB 00000000b26 DB 00000000b27 DB 00000000b28 DB 00000000b29 DB 00000000b30 DB 00000000b31 DB 00000000b32 DB 00000000b33 DB 00000000b34 DB 00000000b35 DB 00000000b36 DB 00000000b37 38 DB 11100000b39 DB 11100000b40 DB 11100000b41 DB 00000000b42 DB 00000000b43 DB 00000000b44 DB 00000000b45 DB 00000000b46 DB 00000000b47 DB 00000000b48 DB 00000000b49 DB 00000000b50 DB 00000000b51 DB 00000000b52 DB 00000000b53 DB 00000000b54 DB 00000000b55 DB 00000000b56 DB 00000000b57 DB 00000000b58 DB 00000000b59 DB 00000000b60 DB 00000000b61 DB 00000000b62 DB 00000000b63 DB 00000000b64 DB 00000000b65 DB 00000000b66 DB 00000000b67 DB 00000000b68 DB 00000000b69 DB 00000000b71 73 DB 11110000b74 DB 10010000b75 DB 10010000b76 DB 10010000b77 DB 11110000b78 DB 00000000b79 DB 00000000b80 DB 00000000b81 DB 00000000b82 DB 00000000b83 DB 00000000b84 DB 00000000b85 DB 00000000b86 DB 00000000b87 DB 00000000b88 DB 00000000b89 DB 00000000b90 DB 00000000b91 DB 00000000b92 DB 00000000b93 DB 00000000b94 DB 00000000b95 DB 00000000b96 DB 00000000b97 DB 00000000b98 DB 00000000b99 DB 00000000b100 DB 00000000b101 DB 00000000b102 DB 00000000b103 DB 00000000b104 DB 00000000b105 106 DB 11110000b107 DB 11110000b108 DB 11110000b109 DB 11110000b110 DB 11110000b111 DB 00000000b112 DB 00000000b113 DB 00000000b114 DB 00000000b115 DB 00000000b116 DB 00000000b117 DB 00000000b118 DB 00000000b119 DB 00000000b120 DB 00000000b121 DB 00000000b122 DB 00000000b123 DB 00000000b124 DB 00000000b125 DB 00000000b126 DB 00000000b127 DB 00000000b128 DB 00000000b129 DB 00000000b130 DB 00000000b131 DB 00000000b132 DB 00000000b133 DB 00000000b134 DB 00000000b135 DB 00000000b136 DB 00000000b137 DB 00000000b139 141 DB 11111100b142 DB 10000100b143 DB 10100100b144 DB 10010100b145 DB 10100100b146 DB 10000100b147 DB 11111100b148 DB 01001000b149 DB 00000000b150 DB 00000000b151 DB 00000000b152 DB 00000000b153 DB 00000000b154 DB 00000000b155 DB 00000000b156 DB 00000000b157 DB 00000000b158 DB 00000000b159 DB 00000000b160 DB 00000000b161 DB 00000000b162 DB 00000000b163 DB 00000000b164 DB 00000000b165 DB 00000000b166 DB 00000000b167 DB 00000000b168 DB 00000000b169 DB 00000000b170 DB 00000000b171 DB 00000000b172 DB 00000000b173 174 DB 11111100b175 DB 11111100b176 DB 11111100b177 DB 11111100b178 DB 11111100b179 DB 11111100b180 DB 11111100b181 DB 00000000b182 DB 00000000b183 DB 00000000b184 DB 00000000b185 DB 00000000b186 DB 00000000b187 DB 00000000b188 DB 00000000b189 DB 00000000b190 DB 00000000b191 DB 00000000b192 DB 00000000b193 DB 00000000b194 DB 00000000b195 DB 00000000b196 DB 00000000b197 DB 00000000b198 DB 00000000b199 DB 00000000b200 DB 00000000b201 DB 00000000b202 DB 00000000b203 DB 00000000b204 DB 00000000b205 DB 00000000b207 209 DB 11111111b210 DB 10000001b211 DB 10110001b212 DB 10011001b213 DB 10001101b214 DB 10011001b215 DB 10110001b216 DB 10000001b217 DB 11111111b218 DB 00100100b219 DB 00100100b220 DB 00000000b221 DB 00000000b222 DB 00000000b223 DB 00000000b224 DB 00000000b225 DB 00000000b226 DB 00000000b227 DB 00000000b228 DB 00000000b229 DB 00000000b230 DB 00000000b231 DB 00000000b232 DB 00000000b233 DB 00000000b234 DB 00000000b235 DB 00000000b236 DB 00000000b237 DB 00000000b238 DB 00000000b239 DB 00000000b240 DB 00000000b242 243 DB 11111111b244 DB 11111111b245 DB 11111111b246 DB 11111111b247 DB 11111111b248 DB 11111111b249 DB 11111111b250 DB 11111111b251 DB 11111111b252 DB 00100100b253 DB 00100100b254 DB 00000000b255 DB 00000000b256 DB 00000000b257 DB 00000000b258 DB 00000000b259 DB 00000000b260 DB 00000000b261 DB 00000000b262 DB 00000000b263 DB 00000000b264 DB 00000000b265 DB 00000000b266 DB 00000000b267 DB 00000000b268 DB 00000000b269 DB 00000000b270 DB 00000000b271 DB 00000000b272 DB 00000000b273 DB 00000000b274 DB 00000000b277 279 DB 00110011b280 DB 11111111b281 DB 10000000b282 DB 10111000b283 DB 10011100b284 DB 10001110b285 DB 10000111b286 DB 10001110b287 DB 10011100b288 DB 10111000b289 DB 10000000b290 DB 11111111b291 DB 00110011b292 DB 00110011b293 DB 00110011b294 DB 00000000b295 DB 00000000b296 DB 11000000b297 DB 01000000b298 DB 01000000b299 DB 01000000b300 DB 01000000b301 DB 01000000b302 DB 01000000b303 DB 01000000b304 DB 01000000b305 DB 01000000b306 DB 11000000b307 DB 00000000b308 DB 00000000b309 DB 00000000b310 DB 00000000b311 312 DB 00000000b313 DB 11111111b314 DB 11111111b315 DB 11111111b316 DB 11111111b317 DB 11111111b318 DB 11111111b319 DB 11111111b320 DB 11111111b321 DB 11111111b322 DB 11111111b323 DB 11111111b324 DB 00000000b325 DB 00000000b326 DB 00000000b327 DB 00000000b328 DB 00000000b329 DB 11000000b330 DB 11000000b331 DB 11000000b332 DB 11000000b333 DB 11000000b334 DB 11000000b335 DB 11000000b336 DB 11000000b337 DB 11000000b338 DB 11000000b339 DB 11000000b340 DB 00000000b341 DB 00000000b342 DB 00000000b343 DB 00000000b344Graphics/Sprites/Sprites.s4main.s99Graphics/Road/Frames.s12Frame1_PatternTable_0:3INCBIN "Graphics/Road/Frame1/screen.pt1"4Frame1_PatternTable_1:5INCBIN "Graphics/Road/Frame1/screen.pt2"67Frame1_PatternTable_2:8INCBIN "Graphics/Road/Frame1/screen.pt3"9Frame1_PatternTable_End:11Frame1_ColorTable_0:12INCBIN "Graphics/Road/Frame1/screen.ct1"13Frame1_ColorTable_1:14INCBIN "Graphics/Road/Frame1/screen.ct2"15INCBIN "Graphics/Road/Frame2/screen.ct2"16Frame1_ColorTable_2:17INCBIN "Graphics/Road/Frame1/screen.ct3"18Frame1_ColorTable_End:20Frame1_NameTable_0:21INCBIN "Graphics/Road/Frame1/screen.nt1"22Frame1_NameTable_1:23INCBIN "Graphics/Road/Frame1/screen.nt2"24Frame1_NameTable_2:25INCBIN "Graphics/Road/Frame1/screen.nt3"26Frame1_NameTable_End:29FrameAlt_NameTable_1:30INCBIN "Graphics/Road/Frame2/screen offset.nt2"31FrameAlt_NameTable_2:33main.s105End:106 ds TableAlignedDataStart - End, 255 110 org 0xbd00 111TableAlignedDataStart:112Data/Data.s123ObjectPositionLookupTable_Road:410121623main.s114115Data/Road_Left.s1ObjectPositionLookupTable_Left:2 db 111 3 db 107 4 db 103 5 db 99 6 db 95 7 db 90 8 db 86 9 db 82 10 db 78 11 db 74 12 db 70 13 db 66 14 db 62 15 db 58 16 db 53 17 db 49 18 db 45 19 db 41 20 db 37 21 db 33 22 db 29 23 db 25 24 db 21 25 db 16 26 db 12 27 db 8 28 db 4 29 db 0 32ObjectSizeLookupTable:33 db 0, 0, 0, 0 34 db 8, 8, 8, 8, 8 35 db 16, 16, 16, 16, 16, 16, 24, 24, 24, 24, 24, 24, 32, 32, 32, 32, 32, 32, 32 36 db 0, 32, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 37 db 32, 32, 32, 32, 32, 32, 32, 32, 32, 32 38main.s117TableAlignedDataEnd:119122 ds 0x4000 + RomSize - TableAlignedDataEnd, 255 126127 org 0xc000, 0xefff 131134RamStart:136Variables.s14 Counter: rw 1 5 Speed: rb 16 78Struct_Obj_Size: equ 69Struct_Obj:10.X: equ 011.Y: equ 112.width: equ 213.height: equ 314.column: equ 415.row: equ 516.pattern_0: equ 617.pattern_1: equ 719 LeftObject_0: rb Struct_Obj_Size 20 LeftObject_1: rb Struct_Obj_Size 21 LeftObject_2: rb Struct_Obj_Size 22main.s137139RamEnd: